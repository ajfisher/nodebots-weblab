<html>
  <head>
    <link href="reset.css" rel="stylesheet"/>
    <link href="labs.css" rel="stylesheet"/>


    <link rel="stylesheet" href="/labs/plugins/highlight.min.css">
    <script src="/labs/plugins/highlight.min.js"></script>

    <link rel="stylesheet" href="/labs/plugins/code-input.min.css">
    <script src="/labs/plugins/code-input.min.js"></script>
    <script src="/labs/plugins/indent.min.js"></script>
    <script>
      codeInput.registerTemplate("syntax-highlighted",
        codeInput.templates.hljs(
          hljs,
          [
            // new codeInput.plugins.Autodetect(),
            new codeInput.plugins.Indent()
          ]
        )
      );
    </script>
    <script type="module" src="labs.js"></script>
    <script type="module">
      import LabPicker from './labs.js';
      // set up the page when it's loaded to get everything going
      document.addEventListener('DOMContentLoaded', (event) => {

        document.querySelectorAll('pre democode').forEach((el) => {
          hljs.highlightElement(el);
        });

        const labpicker = new LabPicker({
          labs: document.querySelectorAll('lab'),
          nextElement: document.getElementById('next'),
          previousElement: document.getElementById('prev'),
          loadElement: document.getElementById('load'),
        });

        labpicker.load();

      });
    </script>
  </head>
  <body class="interface">
    <header>
      <h1>NodeBots Web Labs</h1>
    </header>
    <workspace>
      <div class="code_container">
        <code-input lang="javascript" placeholder="Type code here" id="code"
          template="syntax-highlighted">
        </code-input>
      </div>
      <div class="control_container">
        <iframe src="j5.html" width="100%" height="100px"></iframe>
      </div>
    </workspace>
    <labs>
      <lab class="active">
        <h2>1. Hello, World - Blink an LED</h2>
        <section>
          <p>Make an LED flash on and off using a timer</p>
          <p><img src="images/led-13.png" height="300px"/></p>
        </section>
        <div>
          <pre><democode>
board.on('ready', () => {
  const led = new five.Led(13);
  led.blink(1000);
});
          </democode></pre>
        </div>
      </lab>
      <lab>
        <h2>2. Blink many LEDs</h2>
        <section>
          <p>Blink multiple LEDs at once</p>
          <p><img src="images/led-13.png" height="300px"/></p>
        </section>
        <div>
          <pre><democode>
board.on('ready', () => {
  const led1 = new five.Led(13);
  const led2 = new five.Led(12);
  const led3 = new five.Led(11);

  led1.blink(500);
  led2.blink(800);
  led3.blink(1000);
});
          </democode></pre>
        </div>
      </lab>
      <lab>
        <h2>3. Make a servo move</h2>
        <section>
          <p>Make a servo move back and forth</p>
          <p><img src="images/servo.png" height="300px"/></p>
        </section>
        <div>
          <pre><democode>
board.on('ready', () => {
  const servo = new five.Servo(10);
  servo.sweep();
});
          </democode></pre>
        </div>
      </lab>
      <nav>
        <button id="prev">&lt; Prev</button>
        <button id="load">Load Code</button>
        <button id="next">Next &gt;</button>
      </nav>
    </labs>
    <footer>
      <p>Designed by <a href="https://github.com/ajfisher">@ajfisher</a> with
      assistance by <a href="https://github.com/monteslu">@monteslu</a> see
      github.com/ajfisher/nodebots-weblab for more info</p>
    </footer>
  </body>
</html>
